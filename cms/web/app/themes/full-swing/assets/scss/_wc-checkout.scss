.woocommerce-page {
  .select2-dropdown {
    @apply bg-fsGrey-50;
    margin-top: 1.2rem;
    border-radius: 0.8rem;
    overflow: hidden;
    box-shadow: 0px 0px 24px 0px rgba(0, 0, 0, 0.2);
    border: none;
    .select2-search {
      display: none;
    }
    li {
      @apply body-copy-2 text-fsGrey-950;
      padding-left: 1.2rem;
      margin-top: 1.2rem;
      margin-bottom: 1.2rem;
      &.select2-results__option--highlighted {
        @apply bg-fsGrey-100 text-fsGrey-950;
      }
    }
    li[data-selected='true'] {
      @apply bg-fsBlue-50 font-medium;
    }
  }
  .woocommerce {
    .woocommerce-checkout {
      h3 {
        @apply headline-h5;

        margin-bottom: 3.2rem;
      }
    }

    .col-1,
    .col-2 {
      float: unset;
      width: 100%;
    }

    .form-row {
      padding: 0;
      width: 100%;
      margin-bottom: 2.4rem;

      &.form-row-first,
      &.form-row-last {
        float: unset;
      }

      &:last-child {
        margin-bottom: 0;
      }

      label {
        @apply caption-label;

        margin-bottom: 0.8rem;
      }

      input,
      .wc-stripe-elements-field,
      textarea {
        @apply body-copy-3;

        padding: 1.4rem 1.6rem 1.6rem;
        border: 0.1rem solid $gray-300;
        border-radius: 0.8rem;
        background-color: transparent;
        caret-color: $blue-400;

        &::placeholder {
          font-size: inherit;
          color: $gray-700;
        }

        &::placeholder-shown {
          border-color: $gray-200 !important;
        }

        &:focus {
          border-color: $blue-500 !important;
          background-color: $white;
          border-width: 0.2rem;
          padding: 1.3rem 1.5rem 1.5rem;
        }

        &:disabled {
          opacity: 0.5;
        }
      }

      input {
        height: 4.8rem;
      }

      .select2-container {
        .select2-selection {
          height: 5.2rem;
          border-radius: 0.8rem;
          background-color: transparent;

          .select2-selection__rendered {
            @apply body-copy-2;

            height: 100%;
            line-height: 5.2rem;
            vertical-align: middle;
            padding: 0 2.6rem 0 1.6rem;
          }

          .select2-selection__arrow {
            width: 2.4rem;
            height: 2.4rem;
            right: 1.2rem;
            top: 54%;
            transition: all 0.3s ease-in-out;
            transform: translateY(-50%);
            background: url(../assets/icons/chevron.svg) no-repeat center/contain;

            b {
              display: none;
            }
          }
        }
        &.select2-container--open {
          .select2-selection__arrow {
            transform: translateY(-50%) rotate(180deg) !important;
          }
          .select2-selection--single {
            @apply border-fsBlue-600;
          }
        }
      }
      .select2-search {
        background-color: red;
        display: none !important;
        &.select2-search--dropdown {
          display: none !important;
        }
      }
      .select2-dropdown,
      .select2-search--dropdow {
        background-color: red;
      }

      &.woocommerce-invalid,
      &.woocommerce-validated {
        position: relative;

        &::after {
          content: '';
          display: block;
          position: absolute;
          width: 2.4rem;
          height: 2.4rem;
          background-size: contain;
          background-position: center;
          right: 1.6rem;
          bottom: 1.2rem;
          pointer-events: none;
        }

        &#billing_country_field,
        &#billing_state_field,
        &#shipping_country_field,
        &#shipping_state_field {
          &::after {
            right: 4rem;
          }
        }
      }

      &.woocommerce-invalid {
        &::after {
          background-image: url(../assets/icons/error.png);
        }

        label {
          color: $red-700;
        }

        input {
          border-color: $red-600 !important;
        }
        .select2-selection,
        .select2-selection--single {
          @apply border-fsRed-600;
        }
      }

      &.woocommerce-validated {
        input {
          border-color: $gray-300 !important;
        }

        &::after {
          background-image: url(../assets/icons/validated.png);
        }
      }

      &#billing_first_name_field,
      &#billing_last_name_field,
      &#shipping_first_name_field,
      &#shipping_last_name_field {
        @screen md {
          max-width: 28rem;
          float: left;
        }

        @screen xl {
          max-width: 28.8rem;
        }

        @screen xxl {
          max-width: 30.9rem;
        }
      }

      &#billing_state_field,
      &#shipping_state_field {
        @screen md {
          max-width: 28rem;
        }

        @screen xl {
          max-width: 28.8rem;
        }

        @screen xxl {
          max-width: 30.9rem;
        }
      }

      &#billing_last_name_field,
      &#shipping_last_name_field {
        @screen md {
          margin-left: 2rem;
        }
        @screen xl {
          margin-left: 2.4rem;
        }
        @screen xxl {
          margin-left: 3rem;
        }
      }

      &#billing_company_field,
      &#billing_country_field,
      &#shipping_company_field,
      &#shipping_country_field {
        @screen md {
          max-width: 38rem;
        }

        @screen xl {
          max-width: 39.2rem;
        }

        @screen xxl {
          max-width: 40.8rem;
        }
      }

      &#billing_address_1_field,
      &#billing_address_2_field,
      &#billing_city_field,
      &#billing_email_field,
      &#shipping_address_1_field,
      &#shipping_address_2_field,
      &#shipping_city_field,
      &#shipping_email_field {
        @screen md {
          max-width: 48rem;
        }

        @screen xl {
          max-width: 49.6rem;
        }

        @screen xxl {
          max-width: 51.9rem;
        }
      }

      &#billing_postcode_field,
      &#billing_phone_field,
      &#shipping_postcode_field,
      &#shipping_phone_field {
        @screen md {
          max-width: 18rem;
        }

        @screen xl {
          max-width: 18.4rem;
        }

        @screen xxl {
          max-width: 21.6rem;
        }
      }
    }

    #ship-to-different-address {
      display: flex;
      justify-content: space-between;
      align-items: center;

      label {
        @apply body-copy-2;

        margin-bottom: 3.2rem;
        display: flex;
        flex-flow: row nowrap;
        justify-content: flex-end;
        align-items: flex-start;
      }
    }

    .woocommerce-additional-fields {
      margin-top: 2.4rem;

      textarea {
        height: 12rem;
      }
    }

    #order_review {
      table.shop_table {
        border: none;
        border-collapse: collapse;
        border-style: hidden;

        strong {
          .amount {
            font-weight: 500;
          }
        }

        th,
        td {
          border-color: $gray-300;
          padding: 3.2rem;
        }

        thead {
          th {
            @apply caption-label;

            width: 50%;
          }
        }

        tbody,
        tfoot {
          td:not(.product-name),
          .product-total {
            font-size: 1.6rem;
            font-style: normal;
            font-weight: 500;
            line-height: 1.4;
          }

          td.product-name {
            @apply body-copy-1;
          }

          th {
            @apply caption-label;
          }
        }

        tbody {
          overflow: hidden;
          box-shadow: 0 0 0 0.1rem $gray-300;
          border-radius: 0.8rem 0.8rem 0 0;
        }

        tfoot {
          overflow: hidden;
          box-shadow: 0 0 0 0.1rem $gray-300;
          border-radius: 0 0 0.8rem 0.8rem;
          position: relative;

          &::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            display: block;
            background-color: $white;
            height: 0.1rem;
          }

          .order-total {
            th,
            td {
              background-color: $black;
              color: $white;
              overflow: hidden;
            }

            th {
              border-radius: 0 0 0 0.8rem;
            }

            td {
              border-radius: 0 0 0.8rem 0;
            }
          }
        }

        .product-name {
          text-align: left;
        }

        td:not(.product-name),
        .product-total {
          text-align: right;
        }
      }
    }

    #payment {
      padding: 2.4rem 3.2rem 1.6rem;

      & > ul,
      .form-row {
        padding: 0;
        border: none;
      }

      ul.wc_payment_methods {
        padding-bottom: 2.4rem;

        li.wc_payment_method {
          &:not(:last-child) {
            margin-bottom: 4.8rem;
          }

          label {
            @apply body-copy-1;

            position: relative;
          }
        }
      }

      div.payment_box {
        background-color: $gray-50 !important;
        padding: 4rem 2.4rem;
        border-radius: 0.8rem;

        &::before {
          border-bottom-color: $gray-50;
        }

        #wc-stripe-cc-form {
          display: flex;
          flex-flow: row wrap;
          align-items: flex-start;
          gap: 3.6rem;
          flex-shrink: 0;

          .form-row {
            padding: 0;
            width: 100%;
            margin: 0;

            label {
              @apply caption-label;
            }

            &.form-row-first {
              @screen md {
                max-width: 21.1rem;
              }
            }

            &.form-row-last {
              @screen md {
                max-width: 16.1rem;
              }
            }
          }

          .wc-stripe-elements-field {
            margin-top: 0.8rem;
            margin-bottom: 0;
          }
        }

        .clear {
          display: none;
        }
      }

      .legal-cart-warning {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        column-gap: 1rem;
        padding: 3.2rem 0;
        margin-bottom: 3.2rem;
        border-top: 0.1rem solid $gray-300;
        border-bottom: 0.1rem solid $gray-300;

        a {
          @apply caption-label;
        }
      }
    }

    button.button {
      &.wc_avatax_validate_address,
      &#place_order {
        @include buttonBase('default');

        width: 100%;

        @screen md {
          width: auto;
        }
      }

      &.wc_avatax_validate_address {
        margin-right: auto;
        margin-top: 2.4rem;
      }

      &#place_order {
        @include buttonBase('default');

        width: 100%;
        margin-left: auto;

        @screen md {
          width: auto;
        }
      }
    }
  }
}
